# æ™ºèƒ½è‹±è¯­å­¦ä¹ ç³»ç»Ÿé›†æˆ Anki å®Œæ•´æ–¹æ¡ˆ

> **ç‰ˆæœ¬**: v2.0
> **æ›´æ–°æ—¶é—´**: 2025-01-03
> **ä½œè€…**: Claude Code + Happy
> **æ–‡æ¡£ç›®çš„**: å®Œæ•´è®°å½• Dify + Anki è‹±è¯­å­¦ä¹ è‡ªåŠ¨åŒ–ç³»ç»Ÿçš„æ¶æ„ã€é…ç½®å’Œä½¿ç”¨æŒ‡å—

---

## ğŸ“‘ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [æ¨¡å‹é…ç½®](#æ¨¡å‹é…ç½®)
- [å·¥ä½œæµè®¾è®¡](#å·¥ä½œæµè®¾è®¡)
- [Anki é›†æˆ](#anki-é›†æˆ)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [ä½¿ç”¨åœºæ™¯](#ä½¿ç”¨åœºæ™¯)
- [æˆæœ¬åˆ†æ](#æˆæœ¬åˆ†æ)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [è¿›é˜¶åŠŸèƒ½](#è¿›é˜¶åŠŸèƒ½)

---

## ç³»ç»Ÿæ¦‚è¿°

### æ ¸å¿ƒç†å¿µ

```
å­¦ä¹ è¾“å…¥ â†’ AI æ·±åº¦è§£æ â†’ è‡ªåŠ¨ç”Ÿæˆå¡ç‰‡ â†’ é—´éš”é‡å¤å¤ä¹  â†’ é•¿æœŸè®°å¿†å·©å›º
```

### ç³»ç»Ÿç‰¹æ€§

- âœ… **å¤šæ¨¡æ€å­¦ä¹ æ”¯æŒ**ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€PDFã€æ‰‹å†™ç¬”è®°
- âœ… **æ™ºèƒ½æ¨¡å‹è·¯ç”±**ï¼šæ ¹æ®å†…å®¹ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„ AI æ¨¡å‹
- âœ… **è‡ªåŠ¨åŒ–è®°å¿†ç®¡ç†**ï¼šå­¦ä¹ å†…å®¹è‡ªåŠ¨è½¬æ¢ä¸º Anki å¡ç‰‡å¹¶å¯¼å…¥
- âœ… **æˆæœ¬æä¼˜åŒ–**ï¼šæœˆæˆæœ¬ Â¥0.63ï¼ˆè½»åº¦ä½¿ç”¨ï¼‰ï¼ŒÂ¥15-20/å¹´ï¼ˆé‡åº¦ä½¿ç”¨ï¼‰
- âœ… **å…¨åœºæ™¯è¦†ç›–**ï¼šè¯æ±‡ã€è¯­æ³•ã€é˜…è¯»ã€å†™ä½œã€å¬åŠ›äº”å¤§æ¨¡å—

### å­¦ä¹ é—­ç¯

```mermaid
graph LR
    A[å­¦ä¹ è¾“å…¥] --> B[AI åˆ†æ]
    B --> C[ç”Ÿæˆå¡ç‰‡]
    C --> D[Anki å¯¼å…¥]
    D --> E[é—´éš”å¤ä¹ ]
    E --> F[é•¿æœŸè®°å¿†]
    F --> A
```

---

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚                                â”‚
â”‚  Dify Web UI / Anki Desktop / Mobile App                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åº”ç”¨é€»è¾‘å±‚ (Dify)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å†…å®¹åˆ†ç±»å™¨   â”‚  â”‚ æ™ºèƒ½è·¯ç”±å™¨   â”‚  â”‚ å¡ç‰‡ç”Ÿæˆå™¨   â”‚     â”‚
â”‚  â”‚ DeepSeek-V3  â”‚  â”‚ æ¡ä»¶åˆ†æ”¯     â”‚  â”‚ Python ä»£ç    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI æ¨¡å‹å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ DeepSeek-V3 â”‚  â”‚ Qwen-Math   â”‚  â”‚ GLM-4.5V    â”‚        â”‚
â”‚  â”‚ æ–‡æœ¬ç†è§£    â”‚  â”‚ æ•°å­¦é€»è¾‘    â”‚  â”‚ è§†è§‰åˆ†æ    â”‚        â”‚
â”‚  â”‚ Â¥1/M tokens â”‚  â”‚ Â¥2/M tokens â”‚  â”‚ Â¥10/M tokensâ”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®æŒä¹…å±‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Anki Desktop â”‚  â”‚ AnkiConnect  â”‚  â”‚ PostgreSQL   â”‚     â”‚
â”‚  â”‚ SQLite DB    â”‚  â”‚ HTTP API     â”‚  â”‚ å­¦ä¹ è®°å½•     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           English Learning Workflow v2.0                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è¯æ±‡å­¦ä¹  â”‚ â†’ â”‚ è¯­æ³•çº é”™ â”‚ â†’ â”‚ é˜…è¯»ç†è§£ â”‚ â†’ â”‚ å†™ä½œè¾…å¯¼ â”‚ â”‚
â”‚  â”‚Vocabularyâ”‚   â”‚Grammar  â”‚   â”‚Reading  â”‚   â”‚ Writing â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â†“              â†“              â†“              â†“    â”‚
â”‚   DeepSeek      DeepSeek        GLM-4.5V      DeepSeek  â”‚
â”‚   (è¯æ ¹è¯ç¼€)     (è§„åˆ™åˆ†æ)      (æ–‡ç« å›¾ç‰‡)     (å¤šè½®ä¿®æ”¹) â”‚
â”‚        â†“              â†“              â†“              â†“    â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚  Anki Card       â”‚                        â”‚
â”‚              â”‚  Generator       â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                       â†“                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚  AnkiConnect     â”‚                        â”‚
â”‚              â”‚  Auto-Import     â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ¨¡å‹é…ç½®

### 1. DeepSeek-V3ï¼ˆæ–‡æœ¬å¤„ç†ä¸»åŠ›ï¼‰

**ç”¨é€”**ï¼šè¯æ±‡è§£æã€è¯­æ³•çº é”™ã€å†™ä½œè¾…å¯¼

**é…ç½®æ­¥éª¤**ï¼š

```yaml
æä¾›å•†: DeepSeek
å¹³å°: https://platform.deepseek.com/
API Key: sk-xxxxxxxxxxxx

å¯ç”¨æ¨¡å‹:
  - deepseek-chat (ä¸»åŠ›æ¨¡å‹)
  - deepseek-coder (ä»£ç ä¸“ç”¨)

æ¨¡å‹å‚æ•°:
  - ä¸Šä¸‹æ–‡é•¿åº¦: 128K tokens
  - è¾“å…¥ä»·æ ¼: Â¥1/ç™¾ä¸‡tokens
  - è¾“å‡ºä»·æ ¼: Â¥2/ç™¾ä¸‡tokens
  - æ”¯æŒåŠŸèƒ½: èŠå¤©ã€å‡½æ•°è°ƒç”¨ã€é•¿æ–‡æœ¬
```

**éªŒè¯è¿æ¥**ï¼š

```bash
curl https://api.deepseek.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "model": "deepseek-chat",
    "messages": [{"role": "user", "content": "Hello"}]
  }'
```

---

### 2. Qwen-Mathï¼ˆæ•°å­¦å…¬å¼ä¸“å®¶ï¼‰

**ç”¨é€”**ï¼šæ•°å­¦å…¬å¼æ¨å¯¼ã€é€»è¾‘æ¨ç†ï¼ˆè¾…åŠ©è¯­æ³•åˆ†æï¼‰

**é…ç½®æ­¥éª¤**ï¼š

```yaml
æä¾›å•†: é˜¿é‡Œäº‘ç™¾ç‚¼
å¹³å°: https://bailian.console.aliyun.com/
API Key: sk-xxxxxxxxxxxx

å¯ç”¨æ¨¡å‹:
  - qwen-math-plus (æ¨èï¼Œæ€§ä»·æ¯”é«˜)
  - qwen-math-turbo (æ›´å¿«ï¼Œèƒ½åŠ›ç¨å¼±)
  - qwen-long (é•¿æ–‡æœ¬ï¼Œ128Kä¸Šä¸‹æ–‡)

æ¨¡å‹å‚æ•°:
  - ä¸Šä¸‹æ–‡é•¿åº¦: 32K tokens
  - è¾“å…¥ä»·æ ¼: Â¥2/ç™¾ä¸‡tokens
  - è¾“å‡ºä»·æ ¼: Â¥6/ç™¾ä¸‡tokens
  - æ•°å­¦èƒ½åŠ›: æ¥è¿‘ GPT-4 æ°´å¹³
```

---

### 3. GLM-4.5Vï¼ˆè§†è§‰å¤šæ¨¡æ€æ¨¡å‹ï¼‰

**ç”¨é€”**ï¼šå›¾è¡¨ç†è§£ã€æ–‡ç« å›¾ç‰‡åˆ†æã€æ‰‹å†™ç¬”è®°è¯†åˆ«

**é…ç½®æ­¥éª¤**ï¼š

```yaml
æä¾›å•†: æ™ºè°±AI (Zhipu AI)
å¹³å°: https://open.bigmodel.cn/
API Key: xxxxxxxxxxxx

å¯ç”¨æ¨¡å‹:
  - glm-4v (GLM-4V è§†è§‰æ¨¡å‹)
  - glm-4-plus (é€šç”¨æ–‡æœ¬æ¨¡å‹)
  - glm-4-flash (å¿«é€Ÿå“åº”æ¨¡å‹)
  - glm-4.5v (æœ€æ–°è§†è§‰æ¨¡å‹ï¼Œæ¨è)

æ¨¡å‹å‚æ•° (GLM-4.5V):
  - ä¸Šä¸‹æ–‡é•¿åº¦: 128K tokens
  - è§†è§‰èƒ½åŠ›: 4Kåˆ†è¾¨ç‡å›¾åƒç†è§£
  - è¾“å…¥ä»·æ ¼: Â¥10/ç™¾ä¸‡tokens
  - è¾“å‡ºä»·æ ¼: Â¥10/ç™¾ä¸‡tokens
  - ä¼˜åŠ¿: ä¸­æ–‡å›¾è¡¨ç†è§£ä¼˜ç§€ï¼Œä»·æ ¼æ¯”GPT-4Vä½70%
```

---

## å·¥ä½œæµè®¾è®¡

### èŠ‚ç‚¹ 1ï¼šå¼€å§‹èŠ‚ç‚¹ï¼ˆå¤šæ¨¡æ€è¾“å…¥ï¼‰

```yaml
èŠ‚ç‚¹ç±»å‹: å¼€å§‹
èŠ‚ç‚¹åç§°: å­¦ä¹ è¾“å…¥

è¾“å…¥å˜é‡:
  learning_type:
    ç±»å‹: select
    å¿…å¡«: true
    æ ‡ç­¾: "å­¦ä¹ ç±»å‹"
    é€‰é¡¹:
      - vocabulary: "ğŸ“– è¯æ±‡å­¦ä¹ "
      - grammar: "ğŸ”§ è¯­æ³•çº é”™"
      - reading: "ğŸ“° é˜…è¯»ç†è§£"
      - writing: "âœï¸ å†™ä½œè¾…å¯¼"
      - listening: "ğŸ§ å¬åŠ›ç»ƒä¹ "

  content:
    ç±»å‹: text-area
    å¿…å¡«: true
    æ ‡ç­¾: "å­¦ä¹ å†…å®¹"
    æè¿°: "è¾“å…¥å•è¯ã€å¥å­ã€æ–‡ç« ã€æˆ–éœ€è¦ä¿®æ”¹çš„æ–‡æœ¬"
    å ä½ç¬¦: |
      è¯æ±‡å­¦ä¹ ï¼šè¾“å…¥å•è¯æˆ–çŸ­è¯­
      è¯­æ³•çº é”™ï¼šè¾“å…¥éœ€è¦æ£€æŸ¥çš„å¥å­
      é˜…è¯»ç†è§£ï¼šè¾“å…¥æ–‡ç« æˆ–ä¸Šä¼ æˆªå›¾
      å†™ä½œè¾…å¯¼ï¼šè¾“å…¥ä½ çš„è‰ç¨¿æˆ–ä¸»é¢˜

  upload_images:
    ç±»å‹: file-upload
    å¿…å¡«: false
    æ ‡ç­¾: "ä¸Šä¼ å›¾ç‰‡"
    æè¿°: "æ–‡ç« æˆªå›¾ã€æ‰‹å†™ç¬”è®°ã€æ•™æé¡µé¢"
    æ¥å—æ ¼å¼: ["jpg", "jpeg", "png", "pdf"]
    æœ€å¤§æ•°é‡: 5

  user_level:
    ç±»å‹: select
    å¿…å¡«: false
    æ ‡ç­¾: "è‹±è¯­æ°´å¹³"
    é€‰é¡¹:
      - beginner: "åˆçº§ (A1-A2)"
      - intermediate: "ä¸­çº§ (B1-B2)"
      - advanced: "é«˜çº§ (C1-C2)"
    é»˜è®¤å€¼: "intermediate"

  focus_area:
    ç±»å‹: multi-select
    å¿…å¡«: false
    æ ‡ç­¾: "é‡ç‚¹å¼ºåŒ–"
    é€‰é¡¹:
      - pronunciation: "å‘éŸ³"
      - spelling: "æ‹¼å†™"
      - meaning: "è¯ä¹‰"
      - usage: "ç”¨æ³•"
      - collocation: "æ­é…"
      - grammar: "è¯­æ³•"
```

---

### èŠ‚ç‚¹ 2ï¼šæ™ºèƒ½åˆ†ç±»å™¨

```yaml
èŠ‚ç‚¹åç§°: å†…å®¹åˆ†æå™¨
èŠ‚ç‚¹ç±»å‹: LLM
æ¨¡å‹: DeepSeek-V3
æ¸©åº¦: 0.1

æç¤ºè¯:
"""
ä½ æ˜¯è‹±è¯­å­¦ä¹ å†…å®¹åˆ†æä¸“å®¶ã€‚åˆ†æç”¨æˆ·è¾“å…¥ï¼Œæå–å…³é”®ä¿¡æ¯ã€‚

å­¦ä¹ ç±»å‹: {{#start.learning_type#}}
ç”¨æˆ·å†…å®¹: {{#start.content#}}
{% if #start.upload_images# %}
åŒ…å«å›¾ç‰‡: æ˜¯ï¼Œ{{#start.upload_images#|length}} å¼ 
{% else %}
åŒ…å«å›¾ç‰‡: å¦
{% endif %}
ç”¨æˆ·æ°´å¹³: {{#start.user_level#}}
é‡ç‚¹é¢†åŸŸ: {{#start.focus_area#}}

è¯·ä¸¥æ ¼æŒ‰ç…§JSONæ ¼å¼è¿”å›åˆ†æç»“æœï¼š
{
  "content_type": "word|phrase|sentence|paragraph|article|mixed",
  "word_count": æ•°å­—,
  "complexity": "beginner|intermediate|advanced",
  "key_vocabulary": ["å•è¯1", "å•è¯2", ...],
  "grammar_points": ["è¯­æ³•ç‚¹1", "è¯­æ³•ç‚¹2", ...],
  "learning_goals": ["ç›®æ ‡1", "ç›®æ ‡2", ...],
  "needs_anki": true|false,
  "suggested_card_types": ["basic", "cloze", "sentence"],
  "estimated_time": "å­¦ä¹ æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰"
}

åˆ†ææ ‡å‡†ï¼š
- word: å•ä¸ªå•è¯ï¼ˆå¦‚ "epiphany"ï¼‰
- phrase: è¯ç»„æˆ–çŸ­è¯­ï¼ˆå¦‚ "break the ice"ï¼‰
- sentence: å•ä¸ªå¥å­
- paragraph: çŸ­æ®µè½ï¼ˆ2-5å¥ï¼‰
- article: é•¿ç¯‡æ–‡ç« ï¼ˆ5å¥ä»¥ä¸Šï¼‰
- mixed: æ··åˆå†…å®¹
"""

è¾“å‡ºå˜é‡: analysis_result
è¾“å‡ºè§£æå™¨: JSON
```

---

### èŠ‚ç‚¹ 3ï¼šè¯æ±‡å­¦ä¹ åˆ†æ”¯

```yaml
èŠ‚ç‚¹åç§°: ğŸ“– è¯æ±‡æ·±åº¦è§£æ
èŠ‚ç‚¹ç±»å‹: LLM
æ¨¡å‹: DeepSeek-V3
æ¸©åº¦: 0.5
æœ€å¤§tokens: 3000

æç¤ºè¯:
"""
ä½ æ˜¯ä¸“ä¸šçš„è¯æ±‡æ•™å­¦ä¸“å®¶ï¼Œæ“…é•¿ç”¨ç§‘å­¦æ–¹æ³•å¸®åŠ©å­¦ç”Ÿæ·±åº¦æŒæ¡å•è¯ã€‚

ç›®æ ‡è¯æ±‡: {{#start.content#}}
ç”¨æˆ·æ°´å¹³: {{#start.user_level#}}
é‡ç‚¹é¢†åŸŸ: {{#start.focus_area#}}

è¯·æŒ‰ç…§ä»¥ä¸‹ç»“æ„è¿›è¡Œæ·±åº¦è§£æï¼š

## ğŸ“š æ ¸å¿ƒä¿¡æ¯
**å•è¯**: {{#start.content#}}
**éŸ³æ ‡**: [å›½é™…éŸ³æ ‡]
**è¯æ€§**: [åè¯/åŠ¨è¯/å½¢å®¹è¯ç­‰]
**ä¸­æ–‡é‡Šä¹‰**: [å¤šä¸ªé‡Šä¹‰ï¼Œç¼–å·]

## ğŸŒ³ è¯æºè¯æ ¹
- **è¯æ ¹åˆ†è§£**: [æ‹†è§£è¯æ ¹è¯ç¼€]
- **è¯æºæ•…äº‹**: [æœ‰è¶£çš„è¯æºæ•…äº‹æˆ–è®°å¿†æ³•]
- **åŒæ ¹è¯**: [åˆ—å‡º3-5ä¸ªåŒæ ¹è¯]
- **è®°å¿†æŠ€å·§**: [åŠ©è®°å£è¯€æˆ–è”æƒ³]

## ğŸ“– è¯¦ç»†é‡Šä¹‰
1. **é‡Šä¹‰1**: [è¯¦ç»†è§£é‡Šï¼ŒåŒ…å«ä½¿ç”¨åœºæ™¯]
   - ä¾‹å¥: [åœ°é“çš„è‹±æ–‡ä¾‹å¥ + ä¸­æ–‡ç¿»è¯‘]

2. **é‡Šä¹‰2**: [å¦‚æœæœ‰çš„è¯]
   - ä¾‹å¥: [è‹±æ–‡ä¾‹å¥ + ä¸­æ–‡ç¿»è¯‘]

## ğŸ’¬ å®ç”¨æ­é…
- **åŠ¨è¯æ­é…**: [å¸¸è§åŠ¨è¯ + è¯¥è¯]
- **å½¢å®¹è¯æ­é…**: [å½¢å®¹è¯ + è¯¥è¯]
- **å›ºå®šçŸ­è¯­**: [å¸¸ç”¨çŸ­è¯­]
- **ä¹ è¯­**: [ç›¸å…³ä¹ è¯­ï¼Œå¦‚æœæœ‰çš„è¯]

## ğŸ¯ åŒä¹‰è¯ä¸åä¹‰è¯
- **åŒä¹‰è¯**: [è¯1, è¯2, è¯3]ï¼ˆè¾¨æç»†å¾®å·®å¼‚ï¼‰
- **åä¹‰è¯**: [è¯1, è¯2]

## ğŸ“š ä½¿ç”¨åœºæ™¯
1. **åœºæ™¯1**: [å…·ä½“åœºæ™¯æè¿° + ä¾‹å¥]
2. **åœºæ™¯2**: [å…·ä½“åœºæ™¯æè¿° + ä¾‹å¥]
3. **åœºæ™¯3**: [å…·ä½“åœºæ™¯æè¿° + ä¾‹å¥]

## ğŸ¬ å½±è§†/æ–‡å­¦ä¾‹å¥
- **æ¥æº**: [ç”µå½±/ä¹¦å/æ¼”è®²]
- **ä¾‹å¥**: [ç»å…¸ä¾‹å¥]
- **èƒŒæ™¯**: [ç®€çŸ­èƒŒæ™¯ä»‹ç»]

## âœï¸ ç»ƒä¹ 
è¯·åŸºäºä»¥ä¸Šå†…å®¹ï¼Œç”Ÿæˆ3é“ç»ƒä¹ é¢˜ï¼š
1. **é€‰è¯å¡«ç©º**: [é¢˜ç›® + ç­”æ¡ˆ]
2. **é‡Šä¹‰åŒ¹é…**: [é¢˜ç›® + ç­”æ¡ˆ]
3. **é€ å¥ç»ƒä¹ **: [æç¤º]

è¦æ±‚ï¼š
- é€‚å½“ä½¿ç”¨emojiå¢åŠ å¯è¯»æ€§
- é‡ç‚¹å†…å®¹ç”¨åŠ ç²—æ ‡è®°
- ä¾‹å¥å¿…é¡»åœ°é“ã€å®ç”¨

ç°åœ¨å¼€å§‹è¯¦ç»†è§£æï¼
"""

è¾“å‡ºå˜é‡: vocabulary_result
```

---

### èŠ‚ç‚¹ 4ï¼šè¯­æ³•çº é”™åˆ†æ”¯

```yaml
èŠ‚ç‚¹åç§°: ğŸ”§ æ™ºèƒ½è¯­æ³•çº é”™
èŠ‚ç‚¹ç±»å‹: LLM
æ¨¡å‹: DeepSeek-V3
æ¸©åº¦: 0.3
æœ€å¤§tokens: 3000

æç¤ºè¯:
"""
ä½ æ˜¯ä¸“ä¸šçš„è‹±è¯­è¯­æ³•ä¸“å®¶ï¼Œæ“…é•¿å‘ç°å’Œçº æ­£è¯­æ³•é”™è¯¯ï¼Œå¹¶å¸®åŠ©å­¦ç”Ÿç†è§£é”™è¯¯åŸå› ã€‚

ç”¨æˆ·æ°´å¹³: {{#start.user_level#}}
ç”¨æˆ·è¾“å…¥: {{#start.content#}}

è¯·æŒ‰ç…§ä»¥ä¸‹ç»“æ„è¿›è¡Œåˆ†æï¼š

## ğŸ“ åŸæ–‡
{{#start.content#}}

## âœ… ä¿®æ­£åçš„ç‰ˆæœ¬
[ç»™å‡ºä¿®æ­£åçš„å®Œæ•´æ–‡æœ¬]

## ğŸ” è¯¦ç»†åˆ†æ

### é”™è¯¯1: [é”™è¯¯ç±»å‹]
- **åŸæ–‡**: [é”™è¯¯éƒ¨åˆ†]
- **ä¿®æ­£**: [æ­£ç¡®ç‰ˆæœ¬]
- **é”™è¯¯ç±»å‹**: [ä¸»è°“ä¸€è‡´/æ—¶æ€/å† è¯/ä»‹è¯/è¯åºç­‰]
- **åŸå› è§£é‡Š**: [ä¸ºä»€ä¹ˆé”™äº†ï¼Ÿè¯­æ³•è§„åˆ™è¯´æ˜]
- **è®°å¿†æ–¹æ³•**: [å¦‚ä½•é¿å…è¿™ç±»é”™è¯¯]

### é”™è¯¯2: [å¦‚æœæœ‰]
[åŒæ ·æ ¼å¼...]

## ğŸ“š è¯­æ³•çŸ¥è¯†ç‚¹
**æ¶‰åŠè¯­æ³•ç‚¹**: [åˆ—å‡ºæ¶‰åŠçš„è¯­æ³•è§„åˆ™]

### è§„åˆ™è§£é‡Š
[ç”¨ç®€å•æ˜“æ‡‚çš„è¯­è¨€è§£é‡Šè¯­æ³•è§„åˆ™]

### å¸¸è§é”™è¯¯
[å­¦ä¹ è€…å¸¸çŠ¯çš„ç›¸å…³é”™è¯¯]

### è®°å¿†æŠ€å·§
[å¸®åŠ©è®°å¿†è¿™ä¸ªè§„åˆ™çš„æ–¹æ³•]

## ğŸ¯ è¿›é˜¶å»ºè®®
**æå‡æ–¹å‘**: [å¦‚ä½•æé«˜è¿™æ–¹é¢çš„èƒ½åŠ›]
**ç»ƒä¹ å»ºè®®**: [å…·ä½“ç»ƒä¹ æ–¹æ³•]
**æ¨èèµ„æº**: [è¯­æ³•ä¹¦/ç½‘ç«™/è§†é¢‘ç­‰]

## âœï¸ æ›¿ä»£è¡¨è¾¾
æä¾›2-3ä¸ªæ›´åœ°é“æˆ–æ›´é«˜çº§çš„è¡¨è¾¾æ–¹å¼ï¼š
1. **è¡¨è¾¾1**: [æ›´è‡ªç„¶çš„è¯´æ³•]
   - é€‚ç”¨åœºæ™¯: [ä»€ä¹ˆæ—¶å€™ç”¨]

2. **è¡¨è¾¾2**: [æ›´æ­£å¼çš„è¯´æ³•]
   - é€‚ç”¨åœºæ™¯: [ä»€ä¹ˆæ—¶å€™ç”¨]

è¦æ±‚ï¼š
- å‹å¥½é¼“åŠ±çš„è¯­æ°”
- è§£é‡Šæ¸…æ™°æ˜“æ‡‚
- çªå‡ºé‡ç‚¹è¯­æ³•è§„åˆ™
- æä¾›å®ç”¨å»ºè®®
- é€‚å½“ä½¿ç”¨emoji

å¼€å§‹åˆ†æå§ï¼
"""

è¾“å‡ºå˜é‡: grammar_result
```

---

### èŠ‚ç‚¹ 5ï¼šé˜…è¯»ç†è§£åˆ†æ”¯

```yaml
èŠ‚ç‚¹åç§°: ğŸ“° æ·±åº¦é˜…è¯»ç†è§£
èŠ‚ç‚¹ç±»å‹: LLM
æ¨¡å‹: GLM-4.5V
æ¸©åº¦: 0.5
æœ€å¤§tokens: 4000
å¤šæ¨¡æ€: true

æç¤ºè¯:
"""
ä½ æ˜¯ä¸“ä¸šçš„é˜…è¯»ç†è§£ä¸“å®¶ï¼Œæ“…é•¿åˆ†ææ–‡ç« ã€æå–ä¿¡æ¯ã€å¸®åŠ©å­¦ä¹ è€…æ·±å…¥ç†è§£å†…å®¹ã€‚

ç”¨æˆ·æ°´å¹³: {{#start.user_level#}}
{% if #start.upload_images# %}
æ–‡ç« å›¾ç‰‡: [å·²ä¸Šä¼  {{#start.upload_images#|length}} å¼ å›¾ç‰‡]
{% endif %}
{% if #start.content# %}
ç”¨æˆ·æ–‡æœ¬: {{#start.content#}}
{% endif %}

è¯·æŒ‰ç…§ä»¥ä¸‹ç»“æ„è¿›è¡Œåˆ†æï¼š

## ğŸ“– æ–‡ç« æ¦‚è§ˆ
- **æ ‡é¢˜**: [æå–æˆ–ç”Ÿæˆæ ‡é¢˜]
- **ä¸»é¢˜**: [æ–‡ç« ä¸»é¢˜]
- **ä½“è£**: [æ–°é—»æŠ¥é“/è®®è®ºæ–‡/è¯´æ˜æ–‡/è®°å™æ–‡]
- **å­—æ•°**: [çº¦æ•°å­—æ•°]
- **éš¾åº¦**: [é€‚åˆçš„è‹±è¯­æ°´å¹³]

## ğŸ¯ æ ¸å¿ƒå†…å®¹æå–

### ä¸»è¦è§‚ç‚¹
1. **è§‚ç‚¹1**: [ç®€æ˜æ¦‚æ‹¬]
2. **è§‚ç‚¹2**: [ç®€æ˜æ¦‚æ‹¬]
3. **è§‚ç‚¹3**: [ç®€æ˜æ¦‚æ‹¬]

### å…³é”®ä¿¡æ¯
- **äººç‰©**: [æåˆ°çš„ä¸»è¦äººç‰©]
- **äº‹ä»¶**: [ä¸»è¦äº‹ä»¶]
- **æ—¶é—´**: [æ—¶é—´ä¿¡æ¯]
- **åœ°ç‚¹**: [åœ°ç‚¹ä¿¡æ¯]
- **æ•°æ®**: [é‡è¦æ•°å­—å’Œç»Ÿè®¡æ•°æ®]

## ğŸ“š è¯æ±‡åˆ†æ

### ç”Ÿè¯è¡¨ï¼ˆ10-15ä¸ªï¼‰
1. **å•è¯** - [éŸ³æ ‡] - [è¯æ€§]
   - æ–‡ä¸­å«ä¹‰: [åœ¨æ–‡ä¸­çš„æ„æ€]
   - å¸¸ç”¨é‡Šä¹‰: [å¸¸è§æ„æ€]
   - ä¾‹å¥: [ä»æ–‡ä¸­æå–çš„ä¾‹å¥ + ç¿»è¯‘]

### é«˜çº§è¡¨è¾¾
åˆ—å‡ºæ–‡ç« ä¸­çš„é«˜çº§è¯æ±‡å’Œåœ°é“è¡¨è¾¾ï¼š
- **è¡¨è¾¾1**: [è¯æ±‡/çŸ­è¯­] - é‡Šä¹‰
- **è¡¨è¾¾2**: [è¯æ±‡/çŸ­è¯­] - é‡Šä¹‰

## ğŸ” å¥å­åˆ†æ

### é•¿éš¾å¥è§£æ
æ‰¾å‡ºæ–‡ç« ä¸­çš„3-5ä¸ªé•¿éš¾å¥ï¼Œé€å¥åˆ†æï¼š

**å¥å­1**: [åŸå¥]
- **ç»“æ„åˆ†æ**: [ä¸»å¥+ä»å¥ç»“æ„]
- **è¯­æ³•ç‚¹**: [æ¶‰åŠçš„è¯­æ³•]
- **å‚è€ƒè¯‘æ–‡**: [å‡†ç¡®ç¿»è¯‘]
- **å­¦ä¹ ä»·å€¼**: [ä¸ºä»€ä¹ˆå€¼å¾—å­¦ä¹ ]

## ğŸ’¡ é˜…è¯»ç†è§£æµ‹è¯•

ç”Ÿæˆ5é“ç†è§£æµ‹è¯•é¢˜ï¼š

1. **ç»†èŠ‚ç†è§£é¢˜**
   - é¢˜ç›®: [é—®å…·ä½“ç»†èŠ‚]
   - é€‰é¡¹: A. B. C. D.
   - ç­”æ¡ˆ: [æ­£ç¡®é€‰é¡¹]
   - è§£æ: [ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªç­”æ¡ˆ]

2. **æ¨ç†åˆ¤æ–­é¢˜**
   [åŒæ ·æ ¼å¼]

3. **ä¸»æ—¨å¤§æ„é¢˜**
   [åŒæ ·æ ¼å¼]

4. **è¯ä¹‰çŒœæµ‹é¢˜**
   [åŒæ ·æ ¼å¼]

5. **è§‚ç‚¹æ€åº¦é¢˜**
   [åŒæ ·æ ¼å¼]

## ğŸ“ å­¦ä¹ å»ºè®®

### æå‡é˜…è¯»çš„æ–¹æ³•
- **æ–¹æ³•1**: [å…·ä½“å»ºè®®]
- **æ–¹æ³•2**: [å…·ä½“å»ºè®®]

### å»¶ä¼¸é˜…è¯»
- **ç›¸å…³ä¸»é¢˜**: [æ¨èé˜…è¯»ææ–™]
- **ç›¸å…³æ–‡ç« **: [å¦‚æœçŸ¥é“å‡ºå¤„]

ç°åœ¨å¼€å§‹åˆ†ææ–‡ç« ï¼
"""

å¤šæ¨¡æ€è¾“å…¥:
  å›¾ç‰‡: {{#start.upload_images#}}
  æ–‡æœ¬: {{#start.content#}}

è¾“å‡ºå˜é‡: reading_result
```

---

### èŠ‚ç‚¹ 6ï¼šå†™ä½œè¾…å¯¼åˆ†æ”¯

```yaml
èŠ‚ç‚¹åç§°: âœï¸ å†™ä½œè¾…å¯¼ä¸“å®¶
èŠ‚ç‚¹ç±»å‹: LLM
æ¨¡å‹: DeepSeek-V3
æ¸©åº¦: 0.6
æœ€å¤§tokens: 3500

æç¤ºè¯:
"""
ä½ æ˜¯ä¸“ä¸šçš„å†™ä½œæ•™ç»ƒï¼Œæ“…é•¿å¸®åŠ©å­¦ç”Ÿæå‡å†™ä½œæ°´å¹³ã€‚

ç”¨æˆ·æ°´å¹³: {{#start.user_level#}}
å†™ä½œå†…å®¹: {{#start.content#}}

è¯·æŒ‰ç…§ä»¥ä¸‹ç»“æ„è¿›è¡Œè¾…å¯¼ï¼š

## ğŸ“ åŸæ–‡è¯„ä¼°

### æ€»ä½“è¯„ä»·
- **å†…å®¹è´¨é‡**: [è¯„åˆ†1-10åˆ†] - [è¯„ä»·]
- **è¯­è¨€å‡†ç¡®æ€§**: [è¯„åˆ†1-10åˆ†] - [è¯„ä»·]
- **è¡¨è¾¾æµç•…åº¦**: [è¯„åˆ†1-10åˆ†] - [è¯„ä»·]
- **ç»“æ„ç»„ç»‡**: [è¯„åˆ†1-10åˆ†] - [è¯„ä»·]

### äº®ç‚¹æ€»ç»“
åˆ—å‡ºæ–‡ç« åšå¾—å¥½çš„åœ°æ–¹ï¼š
1. **äº®ç‚¹1**: [å…·ä½“è¯´æ˜]
2. **äº®ç‚¹2**: [å…·ä½“è¯´æ˜]

### éœ€è¦æ”¹è¿›çš„åœ°æ–¹
1. **é—®é¢˜1**: [å…·ä½“é—®é¢˜ + ä¸¥é‡ç¨‹åº¦]
2. **é—®é¢˜2**: [å…·ä½“é—®é¢˜ + ä¸¥é‡ç¨‹åº¦]

## ğŸ” è¯¦ç»†ä¿®æ”¹

### è¯­æ³•é”™è¯¯ä¿®æ­£
**åŸæ–‡**: [é”™è¯¯å¥å­]
**ä¿®æ­£**: [æ­£ç¡®ç‰ˆæœ¬]
**åŸå› **: [ä¸ºä»€ä¹ˆé”™ï¼Ÿè¯­æ³•è§„åˆ™]
**è®°å¿†**: [å¦‚ä½•é¿å…]

### ç”¨è¯ä¼˜åŒ–

#### å¯ä»¥æ”¹è¿›çš„è¯æ±‡
- **åŸæ–‡è¯** â†’ **å»ºè®®è¯**
  - åŸå› : [ä¸ºä»€ä¹ˆè¿™ä¸ªæ›´å¥½]
  - ä¾‹å¥: [ä½¿ç”¨å»ºè®®è¯çš„ä¾‹å¥]

### å¥å¼æå‡

#### ç®€å•å¥ â†’ å¤åˆå¥
**åŸæ–‡**: [ç®€å•å¥]
**å»ºè®®**: [å‡çº§ç‰ˆæœ¬]
**æŠ€å·§**: [ä½¿ç”¨äº†ä»€ä¹ˆå¥å‹]

## âœ¨ ä¿®æ”¹åçš„ç‰ˆæœ¬

### ç‰ˆæœ¬1ï¼šä¿®æ­£ç‰ˆï¼ˆä¿æŒåŸæ„ï¼‰
[ä¿®æ­£äº†æ‰€æœ‰é”™è¯¯åçš„ç‰ˆæœ¬]

### ç‰ˆæœ¬2ï¼šå‡çº§ç‰ˆï¼ˆæå‡è¡¨è¾¾ï¼‰
[åœ¨ä¿®æ­£åŸºç¡€ä¸Šï¼Œæå‡è¡¨è¾¾è´¨é‡]

### ç‰ˆæœ¬3ï¼šé«˜çº§ç‰ˆï¼ˆå¦‚æœç”¨æˆ·æ°´å¹³è¾ƒé«˜ï¼‰
[å±•ç¤ºæ›´é«˜çº§çš„å†™æ³•]

## ğŸ¯ å†™ä½œæŠ€å·§æŒ‡å¯¼

### é’ˆå¯¹æ€§å»ºè®®
åŸºäºç”¨æˆ·çš„é—®é¢˜ï¼Œç»™å‡ºå…·ä½“å»ºè®®ï¼š
1. **æŠ€å·§1**: [è¯¦ç»†è¯´æ˜ + ç»ƒä¹ æ–¹æ³•]
2. **æŠ€å·§2**: [è¯¦ç»†è¯´æ˜ + ç»ƒä¹ æ–¹æ³•]

### å¥å‹åº“
æä¾›é€‚åˆç”¨æˆ·æ°´å¹³çš„å®ç”¨å¥å‹ï¼š
- **å¼€å¤´å¥å‹**:
  - [å¥å‹1 + ä¾‹å¥]
  - [å¥å‹2 + ä¾‹å¥]

- **è¿‡æ¸¡å¥å‹**:
  - [å¥å‹1 + ä¾‹å¥]
  - [å¥å‹2 + ä¾‹å¥]

- **ç»“å°¾å¥å‹**:
  - [å¥å‹1 + ä¾‹å¥]
  - [å¥å‹2 + ä¾‹å¥]

### è¿æ¥è¯åº“
- **è¡¨ç¤ºå¹¶åˆ—**: [è¿æ¥è¯åˆ—è¡¨]
- **è¡¨ç¤ºè½¬æŠ˜**: [è¿æ¥è¯åˆ—è¡¨]
- **è¡¨ç¤ºå› æœ**: [è¿æ¥è¯åˆ—è¡¨]
- **è¡¨ç¤ºé€’è¿›**: [è¿æ¥è¯åˆ—è¡¨]

## ğŸ“ˆ è¿›é˜¶æå‡

### ä¸‹ä¸€æ­¥ç›®æ ‡
- **çŸ­æœŸç›®æ ‡**: [å…·ä½“å¯è¾¾æˆçš„ç›®æ ‡]
- **é•¿æœŸç›®æ ‡**: [é•¿æœŸåŠªåŠ›æ–¹å‘]

### æ¨èèµ„æº
- **è¯­æ³•ä¹¦**: [æ¨èä¹¦ç±]
- **å†™ä½œæŒ‡å—**: [æ¨èèµ„æº]
- **èŒƒæ–‡é˜…è¯»**: [æ¨èææ–™]

å¼€å§‹è¾…å¯¼å§ï¼
"""

è¾“å‡ºå˜é‡: writing_result
```

---

### èŠ‚ç‚¹ 7ï¼šAnki å¡ç‰‡ç”Ÿæˆå™¨

```yaml
èŠ‚ç‚¹åç§°: ğŸ´ Anki å¡ç‰‡ç”Ÿæˆå™¨
èŠ‚ç‚¹ç±»å‹: ä»£ç æ‰§è¡Œ
è¿è¡Œç¯å¢ƒ: Python 3.10+

è¾“å…¥å˜é‡:
  learning_type: {{#start.learning_type#}}
  content: {{#start.content#}}
  analysis: {{#analyzer.analysis_result#}}

  # æ ¹æ®å­¦ä¹ ç±»å‹é€‰æ‹©å¯¹åº”çš„ç»“æœ
  {% if #start.learning_type# == 'vocabulary' %}
  result: {{#vocabulary_processor.vocabulary_result#}}
  {% elif #start.learning_type# == 'grammar' %}
  result: {{#grammar_processor.grammar_result#}}
  {% elif #start.learning_type# == 'reading' %}
  result: {{#reading_processor.reading_result#}}
  {% elif #start.learning_type# == 'writing' %}
  result: {{#writing_processor.writing_result#}}
  {% endif %}
```

**Python ä»£ç å®ç°**ï¼š

```python
"""
Anki Card Generator for English Learning System
ç”Ÿæˆç¬¦åˆ Anki æ ¼å¼çš„è®°å¿†å¡ç‰‡
"""

import json
import re
from datetime import datetime

class AnkiCardGenerator:
    """ç”Ÿæˆç¬¦åˆ Anki æ ¼å¼çš„è®°å¿†å¡ç‰‡"""

    def __init__(self, learning_type, content, analysis, result):
        self.learning_type = learning_type
        self.content = content.strip()
        self.analysis = json.loads(analysis) if isinstance(analysis, str) else analysis
        self.result = result
        self.cards = []

    def generate_vocabulary_cards(self):
        """ä¸ºè¯æ±‡å­¦ä¹ ç”Ÿæˆå¡ç‰‡"""
        word = self.content

        # å¡ç‰‡1ï¼šåŸºç¡€å•è¯å¡ï¼ˆæ­£é¢â†’èƒŒé¢ï¼‰
        card1 = {
            "deck": "English::Vocabulary::Basic",
            "model": "Basic (and reversed card)",
            "fields": {
                "Front": word,
                "Back": f"{self._extract_definition()}\n\n{self._extract_pronunciation()}"
            },
            "tags": ["vocabulary", "basic", self._get_difficulty_tag()]
        }

        # å¡ç‰‡2ï¼šå¡«ç©ºé¢˜å¡
        card2 = {
            "deck": "English::Vocabulary::Cloze",
            "model": "Cloze",
            "fields": {
                "Text": self._generate_cloze_sentence()
            },
            "tags": ["vocabulary", "cloze", word.lower()]
        }

        # å¡ç‰‡3ï¼šä¾‹å¥å¡
        card3 = {
            "deck": "English::Vocabulary::Sentences",
            "model": "Basic",
            "fields": {
                "Front": self._extract_example_sentence_front(),
                "Back": self._extract_example_sentence_back()
            },
            "tags": ["vocabulary", "sentence", word.lower()]
        }

        # å¡ç‰‡4ï¼šè¯æ ¹è¯ç¼€å¡
        card4 = {
            "deck": "English::Vocabulary::Etymology",
            "model": "Basic",
            "fields": {
                "Front": f"What is the etymology of '{word}'?",
                "Back": self._extract_etymology()
            },
            "tags": ["vocabulary", "etymology", word.lower()]
        }

        self.cards = [card1, card2, card3, card4]
        return self.cards

    def generate_grammar_cards(self):
        """ä¸ºè¯­æ³•çº é”™ç”Ÿæˆå¡ç‰‡"""

        # å¡ç‰‡1ï¼šé”™è¯¯ä¿®æ­£å¡
        card1 = {
            "deck": "English::Grammar::Corrections",
            "model": "Basic",
            "fields": {
                "Front": f"Correct this sentence:\n{self.content}",
                "Back": self._extract_correction()
            },
            "tags": ["grammar", "correction", self._extract_grammar_point()]
        }

        # å¡ç‰‡2ï¼šè¯­æ³•è§„åˆ™å¡
        card2 = {
            "deck": "English::Grammar::Rules",
            "model": "Basic",
            "fields": {
                "Front": self._extract_grammar_question(),
                "Back": self._extract_grammar_rule()
            },
            "tags": ["grammar", "rule"]
        }

        self.cards = [card1, card2]
        return self.cards

    def generate_reading_cards(self):
        """ä¸ºé˜…è¯»ç†è§£ç”Ÿæˆå¡ç‰‡"""

        # å¡ç‰‡1ï¼šè¯æ±‡å¡ï¼ˆä»æ–‡ç« ä¸­æå–çš„ç”Ÿè¯ï¼‰
        vocab_words = self._extract_vocabulary_from_text()
        vocab_cards = []
        for word in vocab_words[:5]:  # æœ€å¤š5ä¸ªè¯
            vocab_cards.append({
                "deck": "English::Reading::Vocabulary",
                "model": "Basic",
                "fields": {
                    "Front": word,
                    "Back": self._get_word_definition_from_context(word)
                },
                "tags": ["reading", "vocabulary", word.lower()]
            })

        # å¡ç‰‡2ï¼šé•¿éš¾å¥å¡
        card2 = {
            "deck": "English::Reading::Complex-Sentences",
            "model": "Basic",
            "fields": {
                "Front": self._extract_complex_sentence(),
                "Back": self._get_sentence_analysis()
            },
            "tags": ["reading", "complex-sentence"]
        }

        # å¡ç‰‡3ï¼šä¸»æ—¨å¤§æ„å¡
        card3 = {
            "deck": "English::Reading::Comprehension",
            "model": "Basic",
            "fields": {
                "Front": "What is the main idea of this article?",
                "Back": self._extract_main_idea()
            },
            "tags": ["reading", "comprehension"]
        }

        self.cards = vocab_cards + [card2, card3]
        return self.cards

    def generate_writing_cards(self):
        """ä¸ºå†™ä½œè¾…å¯¼ç”Ÿæˆå¡ç‰‡"""

        # å¡ç‰‡1ï¼šå¥å‹å¡
        card1 = {
            "deck": "English::Writing::Sentence-Patterns",
            "model": "Basic",
            "fields": {
                "Front": self._extract_sentence_pattern(),
                "Back": self._get_pattern_explanation()
            },
            "tags": ["writing", "sentence-pattern"]
        }

        # å¡ç‰‡2ï¼šè¿æ¥è¯å¡
        card2 = {
            "deck": "English::Writing::Transitions",
            "model": "Basic",
            "fields": {
                "Front": self._extract_transition_word(),
                "Back": self._get_transition_usage()
            },
            "tags": ["writing", "transition"]
        }

        # å¡ç‰‡3ï¼šæ­é…å¡
        card3 = {
            "deck": "English::Writing::Collocations",
            "model": "Basic",
            "fields": {
                "Front": self._extract_collocation(),
                "Back": self._get_collocation_examples()
            },
            "tags": ["writing", "collocation"]
        }

        self.cards = [card1, card2, card3]
        return self.cards

    # è¾…åŠ©æ–¹æ³•
    def _extract_definition(self):
        """ä» AI ç»“æœä¸­æå–å®šä¹‰"""
        return f"<b>Definition from AI</b><br>{self.result[:200]}..."

    def _extract_pronunciation(self):
        """æå–å‘éŸ³"""
        return "[phonetic]"

    def _generate_cloze_sentence(self):
        """ç”Ÿæˆå¡«ç©ºé¢˜"""
        return f"{{{{c1::{self.content}}}}} is an important word in English."

    def _extract_example_sentence_front(self):
        """æå–ä¾‹å¥æ­£é¢"""
        return f"Use '{self.content}' in a sentence."

    def _extract_example_sentence_back(self):
        """æå–ä¾‹å¥èƒŒé¢"""
        return "Example sentence from AI result..."

    def _extract_etymology(self):
        """æå–è¯æº"""
        return "Etymology information..."

    def _extract_correction(self):
        """æå–ä¿®æ­£å†…å®¹"""
        return f"<b>Corrected:</b><br>{self.result[:500]}"

    def _extract_grammar_point(self):
        """æå–è¯­æ³•ç‚¹"""
        return "grammar-point"

    def _extract_grammar_question(self):
        """æå–è¯­æ³•é—®é¢˜"""
        return "What is the grammar rule for...?"

    def _extract_grammar_rule(self):
        """æå–è¯­æ³•è§„åˆ™"""
        return "Grammar rule explanation..."

    def _extract_vocabulary_from_text(self):
        """ä»æ–‡æœ¬ä¸­æå–ç”Ÿè¯"""
        return ["word1", "word2", "word3"]

    def _get_word_definition_from_context(self, word):
        """è·å–ä¸Šä¸‹æ–‡ä¸­çš„è¯ä¹‰"""
        return f"<b>{word}</b><br>Definition from context..."

    def _extract_complex_sentence(self):
        """æå–é•¿éš¾å¥"""
        return "Complex sentence from the text..."

    def _get_sentence_analysis(self):
        """è·å–å¥å­åˆ†æ"""
        return "Sentence structure analysis..."

    def _extract_main_idea(self):
        """æå–ä¸»æ—¨å¤§æ„"""
        return "Main idea of the article..."

    def _extract_sentence_pattern(self):
        """æå–å¥å‹"""
        return "Useful sentence pattern..."

    def _get_pattern_explanation(self):
        """è·å–å¥å‹è§£é‡Š"""
        return "Pattern explanation and examples..."

    def _extract_transition_word(self):
        """æå–è¿æ¥è¯"""
        return "however / therefore / moreover"

    def _get_transition_usage(self):
        """è·å–è¿æ¥è¯ç”¨æ³•"""
        return "Usage explanation with examples..."

    def _extract_collocation(self):
        """æå–æ­é…"""
        return "make a decision / do homework"

    def _get_collocation_examples(self):
        """è·å–æ­é…ä¾‹å¥"""
        return "Collocation examples..."

    def _get_difficulty_tag(self):
        """è·å–éš¾åº¦æ ‡ç­¾"""
        level = self.analysis.get("complexity", "intermediate")
        return f"level-{level}"

    def to_anki_connect_format(self):
        """è½¬æ¢ä¸º AnkiConnect API æ ¼å¼"""
        return {
            "cards": self.cards,
            "timestamp": datetime.now().isoformat()
        }

    def to_csv_format(self):
        """è½¬æ¢ä¸º CSV å¯¼å…¥æ ¼å¼ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰"""
        csv_lines = []
        for card in self.cards:
            fields = list(card["fields"].values())
            line = ",".join([
                card["deck"],
                card["model"],
                " ".join(card["tags"]),
                *fields
            ])
            csv_lines.append(line)
        return "\\n".join(csv_lines)

# ä¸»é€»è¾‘
generator = AnkiCardGenerator(
    learning_type,
    content,
    analysis,
    result
)

# æ ¹æ®å­¦ä¹ ç±»å‹ç”Ÿæˆå¡ç‰‡
if learning_type == "vocabulary":
    cards = generator.generate_vocabulary_cards()
elif learning_type == "grammar":
    cards = generator.generate_grammar_cards()
elif learning_type == "reading":
    cards = generator.generate_reading_cards()
elif learning_type == "writing":
    cards = generator.generate_writing_cards()
else:
    cards = []

# è¾“å‡ºç»“æœ
return {
    "cards": cards,
    "anki_connect_format": generator.to_anki_connect_format(),
    "csv_format": generator.to_csv_format(),
    "summary": {
        "total_cards": len(cards),
        "decks": list(set(card["deck"] for card in cards)),
        "types": list(set(card["model"] for card in cards))
    }
}
```

**è¾“å‡ºå˜é‡**: anki_cards

---

### èŠ‚ç‚¹ 8ï¼šAnkiConnect API é›†æˆ

```yaml
èŠ‚ç‚¹åç§°: ğŸ”„ Anki è‡ªåŠ¨å¯¼å…¥
èŠ‚ç‚¹ç±»å‹: HTTP è¯·æ±‚

è¯·æ±‚é…ç½®:
  æ–¹æ³•: POST
  URL: http://localhost:8765
  Headers:
    Content-Type: application/json

  Body:
    {
      "action": "addNotes",
      "version": 6,
      "params": {
        "notes": {{#anki_generator.anki_connect_format.cards#}}
      }
    }

è¾“å…¥å˜é‡:
  cards: {{#anki_generator.anki_connect_format#}}

é”™è¯¯å¤„ç†:
  å¦‚æœ AnkiConnect è¿æ¥å¤±è´¥:
    è¿”å›é”™è¯¯ä¿¡æ¯å’Œ CSV æ ¼å¼æ•°æ®ä¾›æ‰‹åŠ¨å¯¼å…¥

è¾“å‡ºå˜é‡: anki_import_result
```

---

## Anki é›†æˆ

### 1. å®‰è£… Anki

```bash
# macOS
brew install --cask anki

# Windows
# è®¿é—® https://apps.ankiweb.net/ ä¸‹è½½å®‰è£…

# Linux
sudo apt install anki  # Ubuntu/Debian
```

### 2. å®‰è£… AnkiConnect æ’ä»¶

1. æ‰“å¼€ Anki
2. èœå•ï¼š`å·¥å…·` â†’ `æ’ä»¶` â†’ `è·å–æ’ä»¶`
3. è¾“å…¥æ’ä»¶ä»£ç ï¼š`2055492159`
4. ç‚¹å‡» `OK`
5. é‡å¯ Anki

### 3. éªŒè¯ AnkiConnect

```bash
curl http://localhost:8765 -X POST -d '{
  "action": "version",
  "version": 6
}'

# åº”è¯¥è¿”å›ï¼š{"result": 6, "error": null}
```

### 4. åˆ›å»ºç‰Œç»„ç»“æ„

åœ¨ Anki ä¸­åˆ›å»ºä»¥ä¸‹ç‰Œç»„å±‚æ¬¡ç»“æ„ï¼š

```
English (çˆ¶ç‰Œç»„)
â”œâ”€â”€ Vocabulary (è¯æ±‡)
â”‚   â”œâ”€â”€ Basic (åŸºç¡€å•è¯)
â”‚   â”œâ”€â”€ Cloze (å¡«ç©ºé¢˜)
â”‚   â”œâ”€â”€ Sentences (ä¾‹å¥)
â”‚   â””â”€â”€ Etymology (è¯æº)
â”œâ”€â”€ Grammar (è¯­æ³•)
â”‚   â”œâ”€â”€ Corrections (çº é”™)
â”‚   â””â”€â”€ Rules (è¯­æ³•è§„åˆ™)
â”œâ”€â”€ Reading (é˜…è¯»)
â”‚   â”œâ”€â”€ Vocabulary (æ–‡ç« è¯æ±‡)
â”‚   â”œâ”€â”€ Complex-Sentences (é•¿éš¾å¥)
â”‚   â””â”€â”€ Comprehension (ç†è§£)
â””â”€â”€ Writing (å†™ä½œ)
    â”œâ”€â”€ Sentence-Patterns (å¥å‹)
    â”œâ”€â”€ Transitions (è¿æ¥è¯)
    â””â”€â”€ Collocations (æ­é…)
```

**è‡ªåŠ¨åˆ›å»ºè„šæœ¬**ï¼š

```python
# åœ¨ Anki ä¸­ä½¿ç”¨è¿™ä¸ªè„šæœ¬è‡ªåŠ¨åˆ›å»ºç‰Œç»„
# å·¥å…· â†’ æ’ä»¶ â†’ AnkiConnect â†’ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
# ç²˜è´´åˆ°æ§åˆ¶å°æ‰§è¡Œ

import json
import urllib.request

def invoke(action, **params):
    return json.loads(urllib.request.urlopen(urllib.request.Request(
        'http://localhost:8765',
        json.dumps({"action": action, "version": 6, "params": params}).encode('utf-8')
    )).read().decode('utf-8'))

# åˆ›å»ºç‰Œç»„ç»“æ„
decks = [
    "English::Vocabulary::Basic",
    "English::Vocabulary::Cloze",
    "English::Vocabulary::Sentences",
    "English::Vocabulary::Etymology",
    "English::Grammar::Corrections",
    "English::Grammar::Rules",
    "English::Reading::Vocabulary",
    "English::Reading::Complex-Sentences",
    "English::Reading::Comprehension",
    "English::Writing::Sentence-Patterns",
    "English::Writing::Transitions",
    "English::Writing::Collocations"
]

for deck in decks:
    invoke("createDeck", deck=deck)
    print(f"Created deck: {deck}")
```

### 5. å¡ç‰‡æ¨¡æ¿

**åŸºç¡€å¡ç‰‡æ¨¡æ¿**ï¼š

```html
<!-- æ­£é¢æ¨¡æ¿ -->
<div class="card">
  <div class="front">{{Front}}</div>
</div>

<!-- èƒŒé¢æ¨¡æ¿ -->
<div class="card">
  <div class="front">{{Front}}</div>
  <hr id=answer>
  <div class="back">{{Back}}</div>
</div>

<!-- æ ·å¼ -->
<style>
.card {
  font-family: 'Arial', sans-serif;
  font-size: 20px;
  text-align: center;
  padding: 20px;
  line-height: 1.6;
}
.front {
  margin-bottom: 30px;
  font-size: 24px;
  font-weight: bold;
}
.back {
  color: #2c3e50;
  text-align: left;
}
</style>
```

**å¡«ç©ºé¢˜æ¨¡æ¿**ï¼š

```html
<!-- æ­£é¢ -->
{{cloze:Text}}

<!-- èƒŒé¢ -->
{{cloze:Text}}

<!-- æ ·å¼ -->
<style>
.cloze {
  font-weight: bold;
  color: #2980b9;
  font-size: 18px;
}
.card {
  font-family: 'Arial', sans-serif;
  padding: 20px;
  line-height: 1.8;
}
</style>
```

---

## éƒ¨ç½²æŒ‡å—

### Phase 1ï¼šåŸºç¡€é…ç½®ï¼ˆ30åˆ†é’Ÿï¼‰

#### 1.1 å¯åŠ¨ Dify

```bash
cd /Users/berton/Github/dify/docker
cp .env.example .env
docker compose up -d

# è®¿é—® http://localhost
```

#### 1.2 é…ç½®æ¨¡å‹æä¾›å•†

**DeepSeek**:
- è®¿é—® https://platform.deepseek.com/
- è·å– API Key
- åœ¨ Dify ä¸­æ·»åŠ  DeepSeek æä¾›å•†

**é€šä¹‰åƒé—® (Qwen-Math)**:
- è®¿é—® https://bailian.console.aliyun.com/
- è·å– API Key
- åœ¨ Dify ä¸­æ·»åŠ  Tongyi æä¾›å•†

**æ™ºè°±AI (GLM-4.5V)**:
- è®¿é—® https://open.bigmodel.cn/
- è·å– API Key
- åœ¨ Dify ä¸­æ·»åŠ  Zhipu AI æä¾›å•†

#### 1.3 å®‰è£… Anki + AnkiConnect

```bash
# å®‰è£… Anki
brew install --cask anki

# å®‰è£… AnkiConnect
# æ’ä»¶ä»£ç : 2055492159
```

#### 1.4 åˆ›å»º Anki ç‰Œç»„

è¿è¡Œä¸Šé¢çš„è‡ªåŠ¨åˆ›å»ºè„šæœ¬ï¼Œæˆ–æ‰‹åŠ¨åˆ›å»ºç‰Œç»„ç»“æ„ã€‚

---

### Phase 2ï¼šåˆ›å»ºå·¥ä½œæµï¼ˆ1å°æ—¶ï¼‰

1. **åˆ›å»ºæ–°åº”ç”¨**
   - è®¿é—® http://localhost
   - ç‚¹å‡»ã€Œåˆ›å»ºåº”ç”¨ã€
   - é€‰æ‹©ã€Œå·¥ä½œæµç¼–æ’ã€
   - å‘½åä¸ºã€Œæ™ºèƒ½è‹±è¯­å­¦ä¹ åŠ©æ‰‹ã€

2. **æ·»åŠ èŠ‚ç‚¹**
   - æŒ‰ç…§ä¸Šé¢çš„èŠ‚ç‚¹è®¾è®¡ï¼Œé€ä¸ªæ·»åŠ èŠ‚ç‚¹
   - é…ç½®æ¯ä¸ªèŠ‚ç‚¹çš„å‚æ•°å’Œæç¤ºè¯

3. **è¿æ¥èŠ‚ç‚¹**
   - æŒ‰ç…§å·¥ä½œæµè¿æ¥å›¾è¿æ¥å„èŠ‚ç‚¹
   - é…ç½®æ¡ä»¶åˆ†æ”¯

4. **æµ‹è¯•å·¥ä½œæµ**
   - æµ‹è¯•æ¯ä¸ªå­¦ä¹ ç±»å‹
   - éªŒè¯å¡ç‰‡ç”Ÿæˆ
   - ç¡®è®¤ Anki å¯¼å…¥

---

### Phase 3ï¼šå¼€å§‹å­¦ä¹ ï¼ˆæŒç»­ï¼‰

#### æ¯æ—¥å­¦ä¹ æµç¨‹

**æ—©ä¸Šï¼ˆ15åˆ†é’Ÿï¼‰**ï¼š
1. æ‰“å¼€ Dify è‹±è¯­å­¦ä¹ åŠ©æ‰‹
2. å­¦ä¹  5 ä¸ªæ–°å•è¯
3. è‡ªåŠ¨ç”Ÿæˆ 20 å¼  Anki å¡ç‰‡å¹¶å¯¼å…¥
4. åœ¨ Anki ä¸­å¤ä¹ æ˜¨å¤©çš„å¡ç‰‡

**æ™šä¸Šï¼ˆ20åˆ†é’Ÿï¼‰**ï¼š
1. é˜…è¯»ä¸€ç¯‡è‹±è¯­æ–‡ç« 
2. ä¸Šä¼ åˆ° Dify è¿›è¡Œæ·±åº¦åˆ†æ
3. å­¦ä¹ æ–‡ç« ä¸­çš„ç”Ÿè¯å’Œé•¿éš¾å¥
4. è‡ªåŠ¨ç”Ÿæˆç›¸å…³å¡ç‰‡
5. å®Œæˆç†è§£æµ‹è¯•é¢˜

**æ¯å‘¨ï¼ˆ1å°æ—¶ï¼‰**ï¼š
1. å†™ä½œç»ƒä¹ ï¼šå†™ä¸€ç¯‡çŸ­æ–‡
2. ç”¨ Dify è¿›è¡Œå†™ä½œè¾…å¯¼
3. å­¦ä¹ é«˜çº§è¡¨è¾¾å’Œå¥å‹
4. å¯¼å‡ºæ–°ç”Ÿæˆçš„å¡ç‰‡
5. å¤ä¹ æœ¬å‘¨æ‰€æœ‰å¡ç‰‡

---

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šæ¯æ—¥è¯æ±‡ç§¯ç´¯

```
è¾“å…¥é…ç½®ï¼š
- å­¦ä¹ ç±»å‹ï¼švocabulary
- å†…å®¹ï¼šserendipity
- ç”¨æˆ·æ°´å¹³ï¼šintermediate

ç³»ç»Ÿè¾“å‡ºï¼š
1. è¯¦ç»†è§£æï¼š
   - éŸ³æ ‡ï¼š/ËŒser.É™nËˆdÉªp.É™.ti/
   - è¯ä¹‰ï¼šthe occurrence of events by chance in a happy way
   - è¯æºï¼šæºè‡ªæ³¢æ–¯è¯­ "Serendip"
   - ä¾‹å¥ï¼šFinding this book was pure serendipity.

2. è‡ªåŠ¨ç”Ÿæˆ4å¼  Anki å¡ç‰‡ï¼š
   - åŸºç¡€å•è¯å¡
   - å¡«ç©ºé¢˜å¡
   - ä¾‹å¥å¡
   - è¯æºå¡

3. å¤ä¹ å®‰æ’ï¼š
   - 1å¤©åå¤ä¹ ç¬¬ä¸€æ¬¡
   - 3å¤©åå¤ä¹ ç¬¬äºŒæ¬¡
   - 1å‘¨åå¤ä¹ ç¬¬ä¸‰æ¬¡
   - æ ¹æ®æŒæ¡ç¨‹åº¦åŠ¨æ€è°ƒæ•´
```

### åœºæ™¯ 2ï¼šæ–‡ç« é˜…è¯» + è®°å¿†å¼ºåŒ–

```
è¾“å…¥é…ç½®ï¼š
- å­¦ä¹ ç±»å‹ï¼šreading
- å†…å®¹ï¼š[ä¸Šä¼  New York Times æ–‡ç« æˆªå›¾]
- ç”¨æˆ·æ°´å¹³ï¼šadvanced

ç³»ç»Ÿè¾“å‡ºï¼š
1. æ–‡ç« åˆ†æï¼ˆGLM-4.5Vï¼‰ï¼š
   - ä¸»æ—¨å¤§æ„
   - 10ä¸ªç”Ÿè¯ + ä¸Šä¸‹æ–‡é‡Šä¹‰
   - 3ä¸ªé•¿éš¾å¥ + ç»“æ„åˆ†æ
   - 5é“ç†è§£æµ‹è¯•é¢˜

2. è‡ªåŠ¨ç”Ÿæˆ Anki å¡ç‰‡ï¼š
   - 5å¼ ç”Ÿè¯å¡
   - 3å¼ é•¿éš¾å¥å¡
   - 1å¼ ä¸»æ—¨å¤§æ„å¡

3. å­¦ä¹ å»ºè®®ï¼š
   - å…ˆé€šè¯»æ–‡ç« ï¼Œç†è§£ä¸»æ—¨
   - å†å­¦ä¹ ç”Ÿè¯ï¼Œåˆ†æé•¿éš¾å¥
   - æœ€åå®Œæˆç†è§£æµ‹è¯•é¢˜
   - é€šè¿‡ Anki å®šæœŸå¤ä¹ å¡ç‰‡
```

### åœºæ™¯ 3ï¼šå†™ä½œæå‡

```
è¾“å…¥é…ç½®ï¼š
- å­¦ä¹ ç±»å‹ï¼šwriting
- å†…å®¹ï¼šI think social media is good because it help people connect.
- ç”¨æˆ·æ°´å¹³ï¼šintermediate

ç³»ç»Ÿè¾“å‡ºï¼š
1. è¯¦ç»†åé¦ˆï¼š
   - è¯­æ³•é”™è¯¯ä¿®æ­£ï¼ˆhelp â†’ helpsï¼‰
   - è¯æ±‡å‡çº§å»ºè®®ï¼ˆgood â†’ beneficialï¼‰
   - å¥å¼ä¼˜åŒ–æ–¹æ¡ˆ
   - 3ä¸ªä¿®æ”¹ç‰ˆæœ¬

2. Anki å¡ç‰‡ï¼š
   - æ–°å­¦çš„é«˜çº§è¯æ±‡
   - å®ç”¨çš„è¿æ¥è¯
   - åœ°é“çš„å¥å‹è¡¨è¾¾

3. æŒç»­æ”¹è¿›ï¼š
   - æ¯æ¬¡å†™ä½œåï¼Œæ–°çŸ¥è¯†è‡ªåŠ¨åŠ å…¥ Anki
   - é€šè¿‡å¤ä¹ å·©å›ºï¼Œä¸‹æ¬¡å†™ä½œæ—¶èƒ½ä¸»åŠ¨è¿ç”¨
```

---

## æˆæœ¬åˆ†æ

### è¯¦ç»†æˆæœ¬åˆ†è§£

| å­¦ä¹ ç±»å‹ | ä¸»ç”¨æ¨¡å‹ | è¾“å…¥tokens | è¾“å‡ºtokens | å•æ¬¡æˆæœ¬ | æœˆåº¦ä½¿ç”¨(30æ¬¡) | æœˆæˆæœ¬ |
|---------|---------|-----------|-----------|---------|--------------|--------|
| è¯æ±‡å­¦ä¹  | DeepSeek | 2000 | 1000 | Â¥0.004 | 30æ¬¡ | Â¥0.12 |
| è¯­æ³•çº é”™ | DeepSeek | 1500 | 1000 | Â¥0.003 | 20æ¬¡ | Â¥0.06 |
| é˜…è¯»ç†è§£ | GLM-4.5V | 3000 | 1500 | Â¥0.045 | 10æ¬¡ | Â¥0.45 |
| å†™ä½œè¾…å¯¼ | DeepSeek | 2000 | 1500 | Â¥0.005 | 10æ¬¡ | Â¥0.05 |
| **æ€»è®¡** | - | - | - | **Â¥0.057/æ¬¡** | **70æ¬¡** | **Â¥0.68/æœˆ** |

### å¹´åº¦æˆæœ¬é¢„ä¼°

- **è½»åº¦ä½¿ç”¨**ï¼ˆæ¯å¤©1-2æ¬¡ï¼‰ï¼šÂ¥50-80/å¹´
- **ä¸­åº¦ä½¿ç”¨**ï¼ˆæ¯å¤©3-5æ¬¡ï¼‰ï¼šÂ¥100-150/å¹´
- **é‡åº¦ä½¿ç”¨**ï¼ˆæ¯å¤©10+æ¬¡ï¼‰ï¼šÂ¥200-300/å¹´

### ä¸ä¼ ç»Ÿæ–¹å¼å¯¹æ¯”

| æ–¹å¼ | æˆæœ¬/å¹´ | æ—¶é—´æ•ˆç‡ | å­¦ä¹ æ•ˆæœ | ä¸ªæ€§åŒ– |
|------|--------|---------|---------|--------|
| è‹±è¯­åŸ¹è®­ç­ | Â¥8,000+ | ä½ï¼ˆå›ºå®šæ—¶é—´ï¼‰ | ä¸­ | ä½ |
| å¤–æ•™1å¯¹1 | Â¥20,000+ | ä¸­ï¼ˆçµæ´»æ—¶é—´ï¼‰ | é«˜ | ä¸­ |
| è‡ªå­¦ï¼ˆä¹¦ç±+APPï¼‰ | Â¥500 | ä½ | ä½ | ä½ |
| **AIå·¥ä½œæµ+Anki** | **Â¥50-300** | **é«˜ï¼ˆéšæ—¶å­¦ä¹ ï¼‰** | **é«˜** | **æé«˜** |

### æŠ•èµ„å›æŠ¥åˆ†æ

**ä¸€æ¬¡æ€§æŠ•å…¥**ï¼š
- æ—¶é—´ï¼š1-2å°æ—¶é…ç½®
- é‡‘é’±ï¼šÂ¥0ï¼ˆå¦‚æœä½¿ç”¨å…è´¹APIé¢åº¦ï¼‰

**æŒç»­æ”¶ç›Š**ï¼š
- æ¯å¤©å­¦ä¹ æ•ˆç‡æå‡ 50%+
- é•¿æœŸè®°å¿†ä¿æŒç‡æå‡ 80%+
- å­¦ä¹ æˆæœ¬é™ä½ 95%+

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šDocker å¯åŠ¨å¤±è´¥

**ç—‡çŠ¶**ï¼š
```bash
docker compose up -d
# æŠ¥é”™ï¼šç«¯å£è¢«å ç”¨
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :80
lsof -i :5432

# ä¿®æ”¹ .env æ–‡ä»¶ä¸­çš„ç«¯å£é…ç½®
NGINX_PORT=8080
POSTGRES_PORT=5433
```

---

### é—®é¢˜ 2ï¼šAnkiConnect è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
Error: Connection refused to localhost:8765
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. ç¡®è®¤ Anki æ­£åœ¨è¿è¡Œ
# 2. ç¡®è®¤ AnkiConnect æ’ä»¶å·²å®‰è£…
# 3. æµ‹è¯•è¿æ¥
curl http://localhost:8765

# 4. å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œé‡å¯ Anki
```

---

### é—®é¢˜ 3ï¼šæ¨¡å‹ API é…é¢ä¸è¶³

**ç—‡çŠ¶**ï¼š
```
Error: Rate limit exceeded
Error: Insufficient quota
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```yaml
# é…ç½®å¤šå‡­è¯è´Ÿè½½å‡è¡¡
åœ¨ Dify æ¨¡å‹é…ç½®ä¸­ï¼š
1. æ·»åŠ å¤šä¸ª API Key
2. å¯ç”¨è´Ÿè½½å‡è¡¡
3. è‡ªåŠ¨åˆ‡æ¢å‡­è¯

# æˆ–æ·»åŠ å¤‡ç”¨æ¨¡å‹
ä¸»æ¨¡å‹: DeepSeek
å¤‡ç”¨: Ollama æœ¬åœ°æ¨¡å‹
```

---

### é—®é¢˜ 4ï¼šå¡ç‰‡å¯¼å…¥å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
Error: Invalid card format
Error: Deck not found
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
# 1. ç¡®è®¤ç‰Œç»„å·²åˆ›å»º
# 2. æ£€æŸ¥å¡ç‰‡æ ¼å¼
# 3. ä½¿ç”¨ CSV æ ¼å¼æ‰‹åŠ¨å¯¼å…¥

# å¯¼å‡º CSV æ ¼å¼
csv_data = generator.to_csv_format()

# ä¿å­˜ä¸ºæ–‡ä»¶
with open('anki_cards.csv', 'w') as f:
    f.write(csv_data)

# åœ¨ Anki ä¸­ï¼šæ–‡ä»¶ â†’ å¯¼å…¥ â†’ é€‰æ‹© CSV æ–‡ä»¶
```

---

### é—®é¢˜ 5ï¼šå·¥ä½œæµæ‰§è¡Œè¶…æ—¶

**ç—‡çŠ¶**ï¼š
```
Error: Execution timeout
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```yaml
# å¢åŠ è¶…æ—¶æ—¶é—´
åœ¨ Dify è®¾ç½®ä¸­ï¼š
- å·¥ä½œæµè¶…æ—¶ï¼š300ç§’
- LLM è¶…æ—¶ï¼š120ç§’

# æˆ–æ‹†åˆ†å·¥ä½œæµ
å°†å¤§ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå°å·¥ä½œæµ
- æ­¥éª¤1ï¼šå†…å®¹åˆ†æ
- æ­¥éª¤2ï¼šå¡ç‰‡ç”Ÿæˆ
- æ­¥éª¤3ï¼šå¯¼å…¥ Anki
```

---

## è¿›é˜¶åŠŸèƒ½

### åŠŸèƒ½ 1ï¼šå­¦ä¹ è¿›åº¦è¿½è¸ª

```yaml
èŠ‚ç‚¹åç§°: å­¦ä¹ è¿›åº¦è®°å½•
èŠ‚ç‚¹ç±»å‹: ä»£ç 

åŠŸèƒ½:
- è®°å½•æ¯å¤©å­¦ä¹ çš„è¯æ±‡é‡
- ç»Ÿè®¡å¤ä¹ å®Œæˆçš„å¡ç‰‡æ•°
- ç”Ÿæˆå­¦ä¹ æŠ¥å‘Šå’Œå¯è§†åŒ–å›¾è¡¨
- æä¾›ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®

å­˜å‚¨:
- PostgreSQLï¼šå­˜å‚¨å­¦ä¹ è®°å½•
- å‘é‡æ•°æ®åº“ï¼šå­˜å‚¨çŸ¥è¯†ç‚¹å…³è”

è¾“å‡º:
{
  "today_words": 5,
  "total_words": 150,
  "cards_reviewed": 30,
  "accuracy_rate": 0.85,
  "weak_points": ["grammar", "vocabulary"],
  "suggestions": ["åŠ å¼ºè¯­æ³•ç»ƒä¹ ", "å¢åŠ è¯æ±‡é‡"]
}
```

---

### åŠŸèƒ½ 2ï¼šæ™ºèƒ½å¤ä¹ æé†’

```yaml
èŠ‚ç‚¹åç§°: å¤ä¹ æé†’ç³»ç»Ÿ
èŠ‚ç‚¹ç±»å‹: å®šæ—¶ä»»åŠ¡

åŠŸèƒ½:
- æ ¹æ® Anki çš„å¤ä¹ æ•°æ®ï¼Œé¢„æµ‹ä»Šå¤©éœ€è¦å¤ä¹ çš„å¡ç‰‡
- åœ¨ Dify ä¸­åˆ›å»º"ä»Šæ—¥å¤ä¹ ä»»åŠ¡"
- ä¼˜å…ˆå¤ä¹ å¿«é—å¿˜çš„å†…å®¹
- æ¨é€å¤ä¹ æé†’åˆ°æ‰‹æœº/é‚®ç®±

é…ç½®:
  - æ¯å¤©æ—©ä¸Š 8:00 ç”Ÿæˆå¤ä¹ ä»»åŠ¡
  - æé†’æ–¹å¼ï¼šé‚®ç®± / å¾®ä¿¡ / æµè§ˆå™¨é€šçŸ¥
  - ä»»åŠ¡ä¼˜å…ˆçº§ï¼šåŸºäºé—å¿˜æ›²çº¿
```

---

### åŠŸèƒ½ 3ï¼šè¯­éŸ³è¯†åˆ«å’Œå‘éŸ³ç»ƒä¹ 

```yaml
èŠ‚ç‚¹åç§°: å‘éŸ³ç»ƒä¹ å™¨
èŠ‚ç‚¹ç±»å‹: å¤šæ¨¡æ€

è¾“å…¥:
  - æ–‡æœ¬å†…å®¹
  - ç”¨æˆ·å½•éŸ³

åŠŸèƒ½:
- ä½¿ç”¨è¯­éŸ³è¯†åˆ«ï¼ˆWhisperï¼‰åˆ†æå‘éŸ³
- å¯¹æ¯”æ ‡å‡†å‘éŸ³
- æä¾›å‘éŸ³æ”¹è¿›å»ºè®®
- ç”Ÿæˆå‘éŸ³ç»ƒä¹ å¡ç‰‡

æ¨¡å‹:
  - è¯­éŸ³è¯†åˆ«: OpenAI Whisper
  - è¯­éŸ³åˆæˆ: Azure TTS / Google TTS
```

---

### åŠŸèƒ½ 4ï¼šå­¦ä¹ ç¾¤ç»„åŠŸèƒ½

```yaml
èŠ‚ç‚¹åç§°: å­¦ä¹ ç¾¤ç»„
èŠ‚ç‚¹ç±»å‹: åä½œ

åŠŸèƒ½:
- å¤šäººå…±äº« Anki ç‰Œç»„
- åä½œå­¦ä¹ åŒä¸€ç¯‡æ–‡ç« 
- äº’ç›¸æµ‹è¯•å’Œç›‘ç£
- æ’è¡Œæ¦œå’Œæ¿€åŠ±æœºåˆ¶

å®ç°:
- å…±äº«ç‰Œç»„ ID
- åä½œç¬”è®°
- å­¦ä¹ è¿›åº¦åŒæ­¥
- ç¾¤ç»„æŒ‘æˆ˜ä»»åŠ¡
```

---

### åŠŸèƒ½ 5ï¼šAI å¯¹è¯ç»ƒä¹ 

```yaml
èŠ‚ç‚¹åç§°: å¯¹è¯ç»ƒä¹ ä¼™ä¼´
èŠ‚ç‚¹ç±»å‹: LLM

æ¨¡å‹: DeepSeek-V3 / GPT-4

åŠŸèƒ½:
- æ¨¡æ‹ŸçœŸå®å¯¹è¯åœºæ™¯
- å®æ—¶çº æ­£è¯­æ³•é”™è¯¯
- æä¾›æ›´åœ°é“çš„è¡¨è¾¾
- ç”Ÿæˆå¯¹è¯å¡ç‰‡å¤ä¹ 

åœºæ™¯:
  - é¤å…ç‚¹é¤
  - é…’åº—å…¥ä½
  - å•†åŠ¡è°ˆåˆ¤
  - æ—¥å¸¸é—²èŠ
```

---

## æœ€ä½³å®è·µ

### 1. è¯æ±‡å­¦ä¹ ç­–ç•¥

- **æ¯æ—¥æ–°è¯**ï¼š5-10ä¸ª
- **å¤ä¹ é¢‘ç‡**ï¼šéµå¾ª Anki çš„é—´éš”é‡å¤ç®—æ³•
- **å­¦ä¹ æ·±åº¦**ï¼šä¸ä»…è¦è®°è¯ä¹‰ï¼Œè¿˜è¦è®°ç”¨æ³•ã€æ­é…ã€ä¾‹å¥
- **åœºæ™¯è®°å¿†**ï¼šå°†å•è¯æ”¾å…¥çœŸå®åœºæ™¯ä¸­è®°å¿†

### 2. é˜…è¯»ç†è§£ç­–ç•¥

- **ææ–™é€‰æ‹©**ï¼šé€‰æ‹©ç•¥é«˜äºå½“å‰æ°´å¹³çš„ææ–™ï¼ˆi+1 åŸåˆ™ï¼‰
- **ç²¾è¯»æ³›è¯»ç»“åˆ**ï¼šé‡è¦æ–‡ç« ç²¾è¯»ï¼Œå…¶ä»–æ–‡ç« æ³›è¯»
- **ä¸»åŠ¨é˜…è¯»**ï¼šå¸¦ç€é—®é¢˜é˜…è¯»ï¼Œä¸è¢«åŠ¨æ¥æ”¶
- **å®šæœŸå¤ä¹ **ï¼šé€šè¿‡ Anki å¡ç‰‡å¤ä¹ æ–‡ç« ä¸­çš„çŸ¥è¯†ç‚¹

### 3. å†™ä½œæå‡ç­–ç•¥

- **ä»æ¨¡ä»¿å¼€å§‹**ï¼šå…ˆæ¨¡ä»¿å¥½çš„æ–‡ç« ï¼Œå†åˆ›é€ 
- **å¤šæ¬¡ä¿®æ”¹**ï¼šå†™å®Œä¸è¦ç«‹å³æäº¤ï¼Œæ”¾å‡ å¤©å†æ”¹
- **ç§¯ç´¯ç´ æ**ï¼šå»ºç«‹è‡ªå·±çš„å¥å‹åº“ã€æ­é…åº“
- **åé¦ˆå¾ªç¯**ï¼šæŒç»­å†™ä½œ â†’ è·å–åé¦ˆ â†’ æ”¹è¿› â†’ å†å†™ä½œ

### 4. Anki ä½¿ç”¨æŠ€å·§

- **æ¯æ—¥åšæŒ**ï¼šæ¯å¤©å¤ä¹ ï¼Œå³ä½¿åªæœ‰ 5 åˆ†é’Ÿ
- **è¯šå®è¯„åˆ†**ï¼šæ ¹æ®çœŸå®æŒæ¡ç¨‹åº¦è¯„åˆ†ï¼Œä¸æ”¾å®½æ ‡å‡†
- **åŠæ—¶å¤ä¹ **ï¼šæœ‰æ–°å¡ç‰‡æ—¶ä¼˜å…ˆå¤ä¹ 
- **å®šæœŸæ•´ç†**ï¼šåˆ é™¤å¤ªç®€å•çš„å¡ç‰‡ï¼Œåˆå¹¶é‡å¤å†…å®¹

---

## æ€»ç»“

è¿™ä¸ªæ™ºèƒ½è‹±è¯­å­¦ä¹ ç³»ç»Ÿé€šè¿‡ AI è‡ªåŠ¨åŒ–å’Œ Anki é—´éš”é‡å¤ï¼Œå®ç°äº†ï¼š

âœ… **é«˜æ•ˆå­¦ä¹ **ï¼šAI æ·±åº¦è§£æï¼ŒèŠ‚çœæŸ¥å­—å…¸ã€æ‰¾èµ„æ–™çš„æ—¶é—´
âœ… **ç§‘å­¦è®°å¿†**ï¼šAnki é—´éš”é‡å¤ç®—æ³•ï¼Œé•¿æœŸè®°å¿†ä¿æŒç‡æå‡ 80%+
âœ… **æˆæœ¬ä¼˜åŒ–**ï¼šå¹´åº¦æˆæœ¬ Â¥50-300ï¼Œè¿œä½äºä¼ ç»Ÿæ–¹å¼
âœ… **ä¸ªæ€§åŒ–**ï¼šæ ¹æ®ä¸ªäººæ°´å¹³ã€éœ€æ±‚å®šåˆ¶å­¦ä¹ å†…å®¹
âœ… **å…¨åœºæ™¯è¦†ç›–**ï¼šè¯æ±‡ã€è¯­æ³•ã€é˜…è¯»ã€å†™ä½œã€å¬åŠ›äº”å¤§æ¨¡å—

**ç«‹å³å¼€å§‹ï¼Œè®© AI æˆä¸ºä½ æœ€å¼ºå¤§çš„è‹±è¯­å­¦ä¹ ä¼™ä¼´ï¼**

---

## é™„å½•

### A. å‚è€ƒèµ„æº

- **Dify å®˜æ–¹æ–‡æ¡£**: https://docs.dify.ai/
- **Anki å®˜æ–¹ç½‘ç«™**: https://apps.ankiweb.net/
- **AnkiConnect æ–‡æ¡£**: https://foosoft.net/projects/anki-connect/
- **DeepSeek å¹³å°**: https://platform.deepseek.com/
- **æ™ºè°±AI å¹³å°**: https://open.bigmodel.cn/
- **é˜¿é‡Œäº‘ç™¾ç‚¼**: https://bailian.console.aliyun.com/

### B. ç¤¾åŒºæ”¯æŒ

- **Dify Discord**: https://discord.gg/FngNHpbcY7
- **Dify GitHub**: https://github.com/langgenius/dify
- **Anki è®ºå›**: https://forums.ankiweb.net/

### C. æ›´æ–°æ—¥å¿—

- **v2.0** (2025-01-03): åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«å®Œæ•´çš„å¤šæ¨¡æ€è‹±è¯­å­¦ä¹ ç³»ç»Ÿ

---

*æœ¬æ–‡æ¡£ç”± Claude Code + Happy è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤*
*æœ€åæ›´æ–°ï¼š2025-01-03*
